(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{228:function(t,e,s){"use strict";s.r(e);var r=s(0),n=Object(r.a)({},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"content"},[t._m(0),t._v(" "),s("p",[t._v("[ˈtrævɪs]  "),s("a",{attrs:{href:"https://www.travis-ci.org/",target:"_blank",rel:"noopener noreferrer"}},[t._v("官网"),s("OutboundLink")],1)]),t._v(" "),t._m(1),t._v(" "),s("p",[t._v("今天讲一下，FeSidle使用的Travis CI的事；")]),t._v(" "),t._m(2),t._v(" "),t._m(3),t._v(" "),t._m(4),t._v(" "),s("p",[t._v("关联github即可，会调用githu的钩子函数获取你的项目，在项目栏目打开你需要构建的项目监听即可。")]),t._v(" "),t._m(5),t._v(" "),t._m(6),t._v(" "),t._m(7),t._v(" "),t._m(8),t._v(" "),s("p",[t._v("首先在github的 setting -> developer setting -> personal access token一栏点击generate new token， 这下面的选项全选，然后就会生成一个token，复制这个token。")]),t._v(" "),t._m(9),t._v(" "),t._m(10),t._v(" "),t._m(11),t._v(" "),t._m(12),t._v(" "),t._m(13),t._v(" "),t._m(14),t._m(15),t._v(" "),t._m(16),t._v(" "),t._m(17),s("p",[t._v("将deploy.sh变成可执行文件")]),t._v(" "),t._m(18),s("p",[t._v("或者")]),t._v(" "),t._m(19),t._m(20),t._v(" "),s("ul",[s("li",[s("p",[s("a",{attrs:{href:"https://zhuanlan.zhihu.com/p/36116211",target:"_blank",rel:"noopener noreferrer"}},[t._v("vuepress创建项目"),s("OutboundLink")],1),t._v(","),s("a",{attrs:{href:"https://vuepress.vuejs.org/zh/",target:"_blank",rel:"noopener noreferrer"}},[t._v("vuepress官方文档"),s("OutboundLink")],1)])]),t._v(" "),t._m(21),t._v(" "),s("li",[s("p",[s("a",{attrs:{href:"https://fewalksideways.github.io/FeSidle/blog/gitalk.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("gitalk"),s("OutboundLink")],1)])]),t._v(" "),s("li",[s("p",[s("a",{attrs:{href:"https://juejin.im/post/5c9e30fb6fb9a05e1c4cecf6",target:"_blank",rel:"noopener noreferrer"}},[t._v("vuepress增加gitalk"),s("OutboundLink")],1),t._v("  目前为止比较优雅的方式")])])]),t._v(" "),s("gitalk")],1)},[function(){var t=this.$createElement,e=this._self._c||t;return e("h1",{attrs:{id:"travis"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#travis","aria-hidden":"true"}},[this._v("#")]),this._v(" Travis")])},function(){var t=this.$createElement,e=this._self._c||t;return e("blockquote",[e("p",[this._v("非常流行的开源持续集成构建项目，和GO的区别采用"),e("code",[this._v("yaml")]),this._v("格式，清新简洁。广受Github基友喜爱。")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("img",{attrs:{src:"https://i.loli.net/2019/04/29/5cc69cfa9e4f4.png",alt:"travis"}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("img",{attrs:{src:"https://i.loli.net/2019/04/29/5cc69d4628029.png",alt:"构建记录"}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{attrs:{id:"注册travis"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#注册travis","aria-hidden":"true"}},[this._v("#")]),this._v(" 注册Travis")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("img",{attrs:{src:"https://i.loli.net/2019/04/29/5cc69e3bf1023.png",alt:"打开项目开关"}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{attrs:{id:"创建授权token"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#创建授权token","aria-hidden":"true"}},[this._v("#")]),this._v(" 创建授权token")])},function(){var t=this.$createElement,e=this._self._c||t;return e("blockquote",[e("p",[this._v("这个比较关键，没有授权token无法通过验证，提示无权限，name名可自定义")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"获取token"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#获取token","aria-hidden":"true"}},[this._v("#")]),this._v(" 获取token")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("选中关键授权，如果分不清可以全选。github有白名单不用担心别人拿到你token做坏事。"),e("br"),this._v(" "),e("img",{attrs:{src:"https://i.loli.net/2019/04/29/5cc6a671b0d2b.png",alt:"创建token"}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"配置token"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#配置token","aria-hidden":"true"}},[this._v("#")]),this._v(" 配置token")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("img",{attrs:{src:"https://i.loli.net/2019/04/29/5cc69fda623b8.png",alt:"关联token"}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{attrs:{id:"创建配置脚本"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#创建配置脚本","aria-hidden":"true"}},[this._v("#")]),this._v(" 创建配置脚本")])},function(){var t=this.$createElement,e=this._self._c||t;return e("blockquote",[e("p",[this._v("项目根目录创建deploy.sh文件")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("\n#!/usr/bin/env sh\n\n# 确保脚本抛出遇到的错误\nset -e\n\n# 生成静态文件\nnpm run docs:build\n\n# 进入生成的文件夹\ncd docs/.vuepress/dist\n\n# 如果是发布到自定义域名\n# echo 'www.example.com' > CNAME\n\ngit init\ngit add -A\ngit commit -m 'deploy'\n\n# 如果发布到 https://<USERNAME>.github.io\n# git push -f git@github.com:<USERNAME>/<USERNAME>.github.io.git master\n\n# 如果发布到 https://<USERNAME>.github.io/<REPO>\n# git push -f git@github.com:<USERNAME>/<REPO>.git master:gh-pages\n\n# 注意这里是加入Travis配置的推送\ngit push -f https://${your_token}@github.com/fewalksideways/FeSidle.git master:gh-pages  \n\n//看清楚你的用户名/项目名   后面是pages的分支\n\ncd -\n")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{attrs:{id:"创建执行脚本"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#创建执行脚本","aria-hidden":"true"}},[this._v("#")]),this._v(" 创建执行脚本")])},function(){var t=this.$createElement,e=this._self._c||t;return e("blockquote",[e("p",[this._v("项目根目录创建travis.yml执行脚本")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("language: node_js\nsudo: required\nnode_js:\n  - 8.11.3\nbranch: master\ncache:\n  directories:\n    - node_modules\nbefore_install:\n  - export TZ='Asia/Shanghai'  # 设置时区\nscript:\n  - ./deploy.sh\n//以上是基础配置，还可以支持ssh，git等\n\n")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("git update-index --add --cnmod=+x deploy.sh\n\n")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v(" chmod +x deploy.sh\n")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{attrs:{id:"注意"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#注意","aria-hidden":"true"}},[this._v("#")]),this._v(" 注意")])},function(){var t=this.$createElement,e=this._self._c||t;return e("li",[e("p",[this._v("修改package.json 可以通过命令直接上传 vuepress推荐")])])}],!1,null,null,null);e.default=n.exports}}]);